@tailwind base;
@tailwind components;
@tailwind utilities;

/* Подключение шрифта Inter */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* AG Grid стили */
@import 'ag-grid-community/styles/ag-grid.css';
@import 'ag-grid-community/styles/ag-theme-alpine.css';

/* Базовые стили */
@layer base {
  html {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-gray-50 text-gray-900;
    line-height: 1.5;
  }

  * {
    box-sizing: border-box;
  }

  /* Скроллбары */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Firefox scrollbars */
  * {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }
}

/* AG Grid кастомизация */
.ag-theme-alpine {
  --ag-background-color: #ffffff;
  --ag-header-background-color: #f8fafc;
  --ag-odd-row-background-color: #f9fafb;
  --ag-border-color: #e5e7eb;
  --ag-row-border-color: #e5e7eb;
  --ag-header-cell-hover-background-color: #f1f5f9;
  --ag-cell-horizontal-border: solid 1px #e5e7eb;
  --ag-font-size: 11px;
  --ag-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --ag-foreground-color: #1f2937;
  --ag-secondary-foreground-color: #6b7280;
  --ag-disabled-foreground-color: #9ca3af;
  --ag-input-focus-border-color: #3b82f6;
  --ag-range-selection-background-color: #dbeafe;
  --ag-range-selection-background-color-2: #bfdbfe;
  --ag-range-selection-background-color-3: #93c5fd;
  --ag-range-selection-background-color-4: #60a5fa;
}

/* Заголовки колонок */
.ag-header-cell {
  font-weight: 600;
  color: #374151;
  background-color: #f8fafc;
  border-bottom: 2px solid #e5e7eb;
}

.ag-header-cell-text {
  font-size: 11px;
  font-weight: 600;
  color: #374151;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Ячейки */
.ag-cell {
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #f3f4f6;
  padding: 2px 4px;
  display: flex;
  align-items: center;
  font-size: 11px;
  line-height: 1.2;
}

.ag-cell-wrapper {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Перенос текста в ячейках */
.cell-wrap-text .ag-cell-wrapper {
  white-space: normal !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
  line-height: 1.2 !important;
  height: auto !important;
  padding: 2px 0;
}

/* Редактируемые ячейки */
.ag-cell-edit-input {
  font-size: 11px !important;
  font-family: 'Inter', sans-serif !important;
  padding: 2px 4px !important;
  border: 2px solid #3b82f6 !important;
  border-radius: 2px;
  outline: none !important;
  background-color: white !important;
}

/* Фокус на ячейке */
.ag-cell-focus {
  border: 2px solid #3b82f6 !important;
  outline: none !important;
}

.ag-cell-focus:not(.ag-cell-range-selected) {
  border: 2px solid #3b82f6 !important;
}

/* Выделенные ячейки */
.ag-cell-range-selected {
  background-color: #dbeafe !important;
}

.ag-cell-range-selected-1 {
  background-color: #bfdbfe !important;
}

.ag-cell-range-selected-2 {
  background-color: #93c5fd !important;
}

/* Строки при наведении */
.ag-row-hover {
  background-color: #f9fafb !important;
}

/* Четные/нечетные строки */
.ag-row-even {
  background-color: #ffffff;
}

.ag-row-odd {
  background-color: #f9fafb;
}

/* Изменения в реальном времени */
.ag-cell-data-changed {
  background-color: #fef3c7 !important;
  animation: ag-data-changed-flash 1s;
}

.ag-cell-data-changed-animation {
  background-color: #fbbf24 !important;
}

@keyframes ag-data-changed-flash {
  0% { 
    background-color: #fbbf24;
    transform: scale(1.02);
  }
  50% {
    background-color: #f59e0b;
    transform: scale(1.01);
  }
  100% { 
    background-color: #fef3c7;
    transform: scale(1);
  }
}

/* Скроллбары в AG Grid */
.ag-theme-alpine .ag-body-horizontal-scroll-viewport,
.ag-theme-alpine .ag-body-vertical-scroll-viewport {
  scrollbar-width: thin;
  scrollbar-color: #d1d5db #f3f4f6;
}

.ag-theme-alpine .ag-body-horizontal-scroll-viewport::-webkit-scrollbar,
.ag-theme-alpine .ag-body-vertical-scroll-viewport::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.ag-theme-alpine .ag-body-horizontal-scroll-viewport::-webkit-scrollbar-track,
.ag-theme-alpine .ag-body-vertical-scroll-viewport::-webkit-scrollbar-track {
  background: #f3f4f6;
  border-radius: 4px;
}

.ag-theme-alpine .ag-body-horizontal-scroll-viewport::-webkit-scrollbar-thumb,
.ag-theme-alpine .ag-body-vertical-scroll-viewport::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}

.ag-theme-alpine .ag-body-horizontal-scroll-viewport::-webkit-scrollbar-thumb:hover,
.ag-theme-alpine .ag-body-vertical-scroll-viewport::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}

/* Сортировка */
.ag-header-cell-sorted-asc,
.ag-header-cell-sorted-desc {
  background-color: #eff6ff !important;
}

.ag-sort-indicator {
  color: #3b82f6;
}

/* Фильтры */
.ag-filter-toolpanel {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  background-color: white;
}

.ag-filter-wrapper {
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  background-color: white;
}

/* Меню контекста */
.ag-menu {
  border: 1px solid #e5e7eb;
  border-radius: 6px;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  font-size: 11px;
  background-color: white;
}

.ag-menu-option {
  padding: 8px 12px;
  border-radius: 4px;
  margin: 2px;
}

.ag-menu-option:hover {
  background-color: #f3f4f6;
}

/* Загрузка */
.ag-overlay-loading-wrapper {
  background-color: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(2px);
}

.ag-overlay-loading-center {
  color: #3b82f6;
  font-size: 14px;
  font-weight: 500;
}

/* Пустая таблица */
.ag-overlay-no-rows-center {
  color: #6b7280;
  font-size: 14px;
}

/* Фиксированные колонки */
.ag-pinned-left-cols-container {
  border-right: 2px solid #e5e7eb;
  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1);
}

.ag-pinned-right-cols-container {
  border-left: 2px solid #e5e7eb;
  box-shadow: -2px 0 4px rgba(0, 0, 0, 0.1);
}

/* Компоненты */
@layer components {
  /* Кнопки */
  .btn-primary {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  .btn-secondary {
    @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  .btn-danger {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  /* Формы */
  .form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
  }

  .form-select {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
  }

  .form-checkbox {
    @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200;
  }

  /* Карточки */
  .card {
    @apply bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200;
  }

  .card-header {
    @apply px-4 py-5 sm:px-6 border-b border-gray-200;
  }

  .card-body {
    @apply px-4 py-5 sm:p-6;
  }

  .card-footer {
    @apply px-4 py-4 sm:px-6 border-t border-gray-200;
  }

  /* Статусы */
  .status-success {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800;
  }

  .status-warning {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800;
  }

  .status-error {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800;
  }

  .status-info {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800;
  }

  /* Алерты */
  .alert {
    @apply px-4 py-3 rounded-md text-sm border;
  }

  .alert-success {
    @apply bg-green-50 border-green-200 text-green-700;
  }

  .alert-warning {
    @apply bg-yellow-50 border-yellow-200 text-yellow-700;
  }

  .alert-error {
    @apply bg-red-50 border-red-200 text-red-700;
  }

  .alert-info {
    @apply bg-blue-50 border-blue-200 text-blue-700;
  }
}

/* Утилиты */
@layer utilities {
  /* Анимации появления */
  .animate-in {
    animation: slideUp 0.3s ease-out;
  }

  .animate-out {
    animation: slideDown 0.3s ease-out;
  }

  /* Состояния загрузки */
  .loading {
    @apply opacity-50 pointer-events-none;
  }

  /* Скрытие элементов при печати */
  @media print {
    .no-print {
      display: none !important;
    }
  }

  /* Размеры sidebar */
  .sidebar-collapsed {
    width: 4rem;
  }

  .sidebar-expanded {
    width: 16rem;
  }

  /* Transition для sidebar */
  .sidebar-transition {
    transition: width 0.3s ease-in-out;
  }

  /* Responsive утилиты */
  .mobile-hidden {
    @apply hidden md:block;
  }

  .mobile-only {
    @apply block md:hidden;
  }

  /* Состояние фокуса для доступности */
  .focus-visible {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }

  /* Градиенты */
  .gradient-blue {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .gradient-green {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  }

  /* Тени */
  .shadow-soft {
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
  }

  .shadow-medium {
    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.12);
  }

  .shadow-large {
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.16);
  }
}

/* Мобильная адаптация AG Grid */
@media (max-width: 768px) {
  .ag-theme-alpine {
    --ag-font-size: 10px;
    --ag-row-height: 32px;
    --ag-header-height: 28px;
  }
  
  .ag-header-cell-text {
    font-size: 10px;
  }
  
  .ag-cell {
    padding: 1px 2px;
    font-size: 10px;
  }
  
  .ag-cell-edit-input {
    font-size: 10px !important;
    padding: 1px 2px !important;
  }
  
  /* Скрываем некоторые колонки на мобильных */
  .ag-header-cell.mobile-hidden,
  .ag-cell.mobile-hidden {
    display: none !important;
  }
}

/* Темная тема (опционально) */
@media (prefers-color-scheme: dark) {
  .ag-theme-alpine.dark {
    --ag-background-color: #1f2937;
    --ag-header-background-color: #374151;
    --ag-odd-row-background-color: #292f3b;
    --ag-border-color: #4b5563;
    --ag-row-border-color: #4b5563;
    --ag-header-cell-hover-background-color: #4b5563;
    --ag-foreground-color: #f9fafb;
    --ag-secondary-foreground-color: #d1d5db;
    --ag-disabled-foreground-color: #6b7280;
    --ag-input-focus-border-color: #60a5fa;
    --ag-range-selection-background-color: rgba(59, 130, 246, 0.2);
  }
  
  .dark .ag-header-cell {
    color: #f9fafb;
    background-color: #374151;
    border-bottom-color: #4b5563;
  }
  
  .dark .ag-cell {
    color: #f9fafb;
    border-right-color: #4b5563;
    border-bottom-color: #374151;
  }
  
  .dark .ag-row-even {
    background-color: #1f2937;
  }
  
  .dark .ag-row-odd {
    background-color: #292f3b;
  }
}

/* Печать */
@media print {
  .ag-theme-alpine {
    --ag-font-size: 8px;
    --ag-row-height: 20px;
    --ag-header-height: 18px;
  }
  
  .ag-body-horizontal-scroll,
  .ag-body-vertical-scroll {
    overflow: visible !important;
  }
  
  .ag-center-cols-clipper {
    overflow: visible !important;
  }
  
  .ag-body-viewport {
    overflow: visible !important;
  }
  
  /* Скрыть элементы интерфейса при печати */
  .no-print,
  .ag-floating-filter-wrapper,
  .ag-column-drop,
  .ag-tool-panel {
    display: none !important;
  }
}

/* Кастомные анимации */
@keyframes slideUp {
  0% { 
    transform: translateY(10px); 
    opacity: 0; 
  }
  100% { 
    transform: translateY(0); 
    opacity: 1; 
  }
}

@keyframes slideDown {
  0% { 
    transform: translateY(-10px); 
    opacity: 0; 
  }
  100% { 
    transform: translateY(0); 
    opacity: 1; 
  }
}

/* Кастомные классы для ячеек */
.cell-number {
  text-align: right !important;
  font-family: 'SF Mono', Monaco, Inconsolata, 'Roboto Mono', monospace !important;
}

.cell-currency {
  text-align: right !important;
  color: #059669 !important;
  font-weight: 500 !important;
}

.cell-percentage {
  text-align: right !important;
  font-weight: 500 !important;
}

.cell-status-active {
  background-color: #d1fae5 !important;
  color: #065f46 !important;
  font-weight: 500 !important;
  border-radius: 4px !important;
  margin: 1px !important;
  text-align: center !important;
}

.cell-status-inactive {
  background-color: #fee2e2 !important;
  color: #991b1b !important;
  font-weight: 500 !important;
  border-radius: 4px !important;
  margin: 1px !important;
  text-align: center !important;
}

.cell-highlight {
  background-color: #fef3c7 !important;
  border: 1px solid #f59e0b !important;
  border-radius: 2px !important;
}

/* Анимации для таблицы */
.ag-row {
  transition: background-color 0.15s ease;
}

.ag-cell {
  transition: background-color 0.15s ease, border-color 0.15s ease;
}

/* Accessibility улучшения */
.ag-cell:focus,
.ag-header-cell:focus {
  outline: 2px solid #3b82f6 !important;
  outline-offset: -2px !important;
}

.ag-cell:focus-visible,
.ag-header-cell:focus-visible {
  outline: 2px solid #3b82f6 !important;
  outline-offset: -2px !important;
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .ag-theme-alpine {
    --ag-border-color: #000000;
    --ag-row-border-color: #000000;
    --ag-foreground-color: #000000;
    --ag-background-color: #ffffff;
  }
}

/* Дополнительные CSS стили для компонентов метрик */
/* Добавьте в конец файла src/index.css */

/* Стили для компонента CreativeMetrics */
.creative-metrics {
  border-radius: 8px;
  transition: all 0.2s ease-in-out;
}

.creative-metrics:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Анимация для загрузки метрик */
.metrics-loading {
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
  animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Стили для метрических карточек */
.metric-card {
  @apply bg-white rounded-lg border border-gray-200 p-4 transition-all duration-200;
}

.metric-card:hover {
  @apply shadow-md border-gray-300;
}

.metric-card-compact {
  @apply p-2;
}

.metric-value {
  @apply text-lg font-semibold;
  font-feature-settings: 'tnum' on, 'lnum' on;
}

.metric-value-compact {
  @apply text-base font-medium;
}

.metric-label {
  @apply text-xs text-gray-600 uppercase tracking-wider;
}

/* Цветовые схемы для разных типов метрик */
.metric-leads {
  @apply bg-blue-50 border-blue-200;
}

.metric-leads .metric-value {
  @apply text-blue-700;
}

.metric-leads .metric-label {
  @apply text-blue-600;
}

.metric-cpl {
  @apply bg-green-50 border-green-200;
}

.metric-cpl .metric-value {
  @apply text-green-700;
}

.metric-cpl .metric-label {
  @apply text-green-600;
}

.metric-ctr {
  @apply bg-orange-50 border-orange-200;
}

.metric-ctr .metric-value {
  @apply text-orange-700;
}

.metric-ctr .metric-label {
  @apply text-orange-600;
}

.metric-cost {
  @apply bg-purple-50 border-purple-200;
}

.metric-cost .metric-value {
  @apply text-purple-700;
}

.metric-cost .metric-label {
  @apply text-purple-600;
}

/* Статус индикаторы */
.status-indicator {
  @apply inline-flex items-center px-2 py-1 rounded-full text-xs font-medium;
}

.status-indicator.available {
  @apply bg-green-100 text-green-800;
}

.status-indicator.unavailable {
  @apply bg-red-100 text-red-800;
}

.status-indicator.loading {
  @apply bg-yellow-100 text-yellow-800;
}

.status-indicator.unknown {
  @apply bg-gray-100 text-gray-800;
}

/* Прогресс бар для метрик */
.metrics-progress {
  @apply w-full bg-gray-200 rounded-full h-2 overflow-hidden;
}

.metrics-progress-bar {
  @apply h-full bg-gradient-to-r from-blue-500 to-green-500 rounded-full transition-all duration-300;
}

/* Анимация успешной загрузки */
.metrics-success {
  animation: metrics-success-pulse 0.6s ease-out;
}

@keyframes metrics-success-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
  }
  70% {
    transform: scale(1.02);
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
  }
}

/* Стили для ошибок метрик */
.metrics-error {
  @apply bg-red-50 border border-red-200 rounded-lg p-3;
  animation: shake 0.5s ease-in-out;
}

@keyframes shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  75% { transform: translateX(5px); }
}

.metrics-error-icon {
  @apply text-red-500 h-4 w-4 mr-2 flex-shrink-0;
}

.metrics-error-text {
  @apply text-red-700 text-sm;
}

/* Tooltip для метрик */
.metrics-tooltip {
  @apply absolute z-50 px-2 py-1 text-xs text-white bg-gray-900 rounded shadow-lg;
  transform: translateX(-50%);
  top: -32px;
  left: 50%;
}

.metrics-tooltip:after {
  content: '';
  @apply absolute top-full left-1/2 border-4 border-transparent border-t-gray-900;
  transform: translateX(-50%);
}

/* Таблица с метриками */
.metrics-table {
  @apply min-w-full divide-y divide-gray-200;
}

.metrics-table th {
  @apply px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50;
}

.metrics-table td {
  @apply px-6 py-4 whitespace-nowrap text-sm;
}

.metrics-table tr:hover {
  @apply bg-blue-50;
}

/* Метрические бейджи */
.metric-badge {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
}

.metric-badge.excellent {
  @apply bg-green-100 text-green-800 border border-green-200;
}

.metric-badge.good {
  @apply bg-yellow-100 text-yellow-800 border border-yellow-200;
}

.metric-badge.poor {
  @apply bg-red-100 text-red-800 border border-red-200;
}

.metric-badge.no-data {
  @apply bg-gray-100 text-gray-800 border border-gray-200;
}

/* Анимация для обновления метрик */
.metrics-refresh {
  animation: metrics-refresh-spin 1s linear infinite;
}

@keyframes metrics-refresh-spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Responsive дизайн для метрик */
@media (max-width: 768px) {
  .metric-card {
    @apply p-3;
  }
  
  .metric-value {
    @apply text-base;
  }
  
  .metrics-table th,
  .metrics-table td {
    @apply px-3 py-2 text-xs;
  }
  
  .creative-metrics {
    @apply text-sm;
  }
}

/* Темная тема для метрик */
@media (prefers-color-scheme: dark) {
  .metric-card {
    @apply bg-gray-800 border-gray-700 text-white;
  }
  
  .metric-card:hover {
    @apply border-gray-600;
  }
  
  .metric-leads {
    @apply bg-blue-900 border-blue-700;
  }
  
  .metric-leads .metric-value {
    @apply text-blue-300;
  }
  
  .metric-leads .metric-label {
    @apply text-blue-400;
  }
  
  .metric-cpl {
    @apply bg-green-900 border-green-700;
  }
  
  .metric-cpl .metric-value {
    @apply text-green-300;
  }
  
  .metric-cpl .metric-label {
    @apply text-green-400;
  }
  
  .metric-ctr {
    @apply bg-orange-900 border-orange-700;
  }
  
  .metric-ctr .metric-value {
    @apply text-orange-300;
  }
  
  .metric-ctr .metric-label {
    @apply text-orange-400;
  }
  
  .metrics-table {
    @apply bg-gray-800 text-white;
  }
  
  .metrics-table th {
    @apply bg-gray-700 text-gray-300;
  }
  
  .metrics-table tr:hover {
    @apply bg-gray-700;
  }
}

/* Печать */
@media print {
  .metrics-loading,
  .metrics-refresh,
  .creative-metrics button {
    @apply hidden;
  }
  
  .metric-card {
    @apply shadow-none border border-gray-400;
  }
  
  .metrics-table {
    @apply text-black;
  }
  
  .metrics-table th,
  .metrics-table td {
    @apply border border-gray-400;
  }
}

/* Accessibility улучшения */
.metric-card:focus-within {
  @apply ring-2 ring-blue-500 ring-opacity-50;
}

.metrics-button:focus {
  @apply outline-none ring-2 ring-blue-500 ring-opacity-50;
}

/* Дополнительные утилиты */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.metrics-grid-compact {
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 0.75rem;
}

.metrics-separator {
  @apply border-t border-gray-200 my-4;
}

.metrics-section {
  @apply mb-6;
}

.metrics-section:last-child {
  @apply mb-0;
}

/* Специальные эффекты */
.metrics-glow {
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
}

.metrics-pulse {
  animation: metrics-pulse 2s infinite;
}

@keyframes metrics-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* Индикаторы производительности */
.performance-excellent {
  @apply bg-green-500;
}

.performance-good {
  @apply bg-yellow-500;
}

.performance-poor {
  @apply bg-red-500;
}

.performance-indicator {
  @apply w-3 h-3 rounded-full inline-block mr-2;
}

/* Финальные штрихи */
.metrics-container {
  @apply space-y-4;
}

.metrics-header {
  @apply flex items-center justify-between mb-4;
}

.metrics-title {
  @apply text-lg font-semibold text-gray-900 flex items-center;
}

.metrics-title svg {
  @apply mr-2 h-5 w-5 text-blue-600;
}

.metrics-actions {
  @apply flex items-center space-x-2;
}

.metrics-summary {
  @apply bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200 rounded-lg p-4 mb-4;
}

.metrics-summary-title {
  @apply text-sm font-medium text-gray-900 mb-2;
}

.metrics-summary-stats {
  @apply grid grid-cols-2 md:grid-cols-4 gap-3;
}

.metrics-summary-stat {
  @apply text-center;
}

.metrics-summary-value {
  @apply text-lg font-bold text-gray-900;
}

.metrics-summary-label {
  @apply text-xs text-gray-600;
}

/* Добавьте эти стили в конец файла src/index.css */

/* Стили для компактных карточек метрик */
.creative-metrics-compact {
  transition: all 0.3s ease;
  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%);
}

.creative-metrics-compact:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
  border-color: #10b981;
}

/* Карточки метрик */
.metric-card-mini {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.metric-card-mini:hover {
  background: rgba(255, 255, 255, 0.9);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: rgba(255, 255, 255, 0.8);
}

/* Специальные стили для разных типов метрик */
.metric-leads {
  border-left: 3px solid #3b82f6;
}

.metric-cpl {
  border-left: 3px solid #10b981;
}

.metric-cost {
  border-left: 3px solid #8b5cf6;
}

.metric-shows {
  border-left: 3px solid #6366f1;
}

.metric-clicks {
  border-left: 3px solid #f59e0b;
}

.metric-ctr {
  border-left: 3px solid #ec4899;
}

/* Анимированные иконки */
.metric-icon {
  transition: transform 0.2s ease;
}

.metric-card-mini:hover .metric-icon {
  transform: scale(1.1);
}

/* Значения метрик */
.metric-value-large {
  font-feature-settings: 'tnum' on, 'lnum' on;
  font-weight: 700;
  line-height: 1;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.metric-value-medium {
  font-feature-settings: 'tnum' on, 'lnum' on;
  font-weight: 600;
  line-height: 1;
}

.metric-label-mini {
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.65rem;
}

/* Состояния карточек */
.metrics-loading-card {
  background: linear-gradient(90deg, #f0f9ff 25%, #e0f2fe 50%, #f0f9ff 75%);
  background-size: 200% 100%;
  animation: loading-shimmer 1.5s infinite;
}

.metrics-error-card {
  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  border-color: #fca5a5;
}

.metrics-error-card:hover {
  background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
}

.metrics-success-card {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #f0f9ff 100%);
  border-color: #86efac;
  position: relative;
  overflow: hidden;
}

.metrics-success-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.5s ease;
}

.metrics-success-card:hover::before {
  left: 100%;
}

/* Градиенты для разных типов */
.gradient-leads {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
}

.gradient-money {
  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
}

.gradient-engagement {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
}

.gradient-performance {
  background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
}

/* Адаптивность для мобильных устройств */
@media (max-width: 640px) {
  .creative-metrics-compact {
    padding: 12px;
  }
  
  .metric-card-mini {
    padding: 8px;
  }
  
  .metric-value-large {
    font-size: 16px;
  }
  
  .metric-value-medium {
    font-size: 14px;
  }
  
  .metric-label-mini {
    font-size: 0.6rem;
  }
}

/* ============================================
   SKELETON LOADING ANIMATIONS
   Современный shimmer эффект - серый с белой волной
   ============================================ */

/* Основная анимация shimmer - белая волна слева направо */
@keyframes skeleton-shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

/* Базовый класс skeleton - серый фон с белой волной */
.skeleton-shimmer {
  position: relative;
  overflow: hidden;
  background-color: #e5e7eb; /* gray-200 */
}

.skeleton-shimmer::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 20%,
    rgba(255, 255, 255, 0.8) 50%,
    rgba(255, 255, 255, 0.4) 80%,
    transparent 100%
  );
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

/* Вариант с легким голубым оттенком */
.skeleton-shimmer-blue {
  position: relative;
  overflow: hidden;
  background-color: #e2e8f0; /* slate-200 */
}

.skeleton-shimmer-blue::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.5) 20%,
    rgba(255, 255, 255, 0.9) 50%,
    rgba(255, 255, 255, 0.5) 80%,
    transparent 100%
  );
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

/* Комбинированный эффект: shimmer + легкая пульсация */
@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.skeleton-shimmer-pulse {
  position: relative;
  overflow: hidden;
  background-color: #d1d5db; /* gray-300 */
  animation: skeleton-pulse 2s ease-in-out infinite;
}

.skeleton-shimmer-pulse::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.6) 50%,
    transparent 100%
  );
  animation: skeleton-shimmer 1.2s ease-in-out infinite;
}

/* Для темных тем */
@media (prefers-color-scheme: dark) {
  .skeleton-shimmer {
    background-color: #374151; /* gray-700 */
  }

  .skeleton-shimmer::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 20%,
      rgba(255, 255, 255, 0.2) 50%,
      rgba(255, 255, 255, 0.1) 80%,
      transparent 100%
    );
  }

  .skeleton-shimmer-blue {
    background-color: #1e3a5f;
  }

  .skeleton-shimmer-blue::after {
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.15) 50%,
      transparent 100%
    );
  }
}

/* Дополнительные анимации */
@keyframes loading-shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes metric-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.metric-pulse {
  animation: metric-pulse 2s ease-in-out infinite;
}

/* Эффекты при наведении */
.metric-refresh-btn {
  opacity: 0.6;
  transition: all 0.2s ease;
}

.metric-refresh-btn:hover {
  opacity: 1;
  background: rgba(255, 255, 255, 0.8);
  transform: rotate(180deg);
}

/* Статус индикаторы для метрик */
.metrics-status-excellent .metric-card-mini {
  border-left-color: #10b981;
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(16, 185, 129, 0.05) 100%);
}

.metrics-status-good .metric-card-mini {
  border-left-color: #f59e0b;
  background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(245, 158, 11, 0.05) 100%);
}

.metrics-status-poor .metric-card-mini {
  border-left-color: #ef4444;
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(239, 68, 68, 0.05) 100%);
}

/* Группировка карточек */
.metrics-group {
  background: rgba(255, 255, 255, 0.4);
  border-radius: 12px;
  padding: 8px;
  margin-bottom: 8px;
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.metrics-group-title {
  font-size: 0.7rem;
  font-weight: 600;
  color: #6b7280;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: 4px;
  text-align: center;
}

/* Темная тема */
@media (prefers-color-scheme: dark) {
  .creative-metrics-compact {
    background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #1e293b 100%);
    border-color: #475569;
    color: #f1f5f9;
  }
  
  .metric-card-mini {
    background: rgba(30, 41, 59, 0.8);
    border-color: rgba(51, 65, 85, 0.6);
    color: #f1f5f9;
  }
  
  .metric-card-mini:hover {
    background: rgba(30, 41, 59, 0.9);
    border-color: rgba(71, 85, 105, 0.8);
  }
}

/* Печать */
@media print {
  .creative-metrics-compact {
    background: white !important;
    border: 1px solid #e5e7eb !important;
    box-shadow: none !important;
  }
  
  .metric-card-mini {
    background: white !important;
    border: 1px solid #d1d5db !important;
    color: black !important;
  }
  
  .metric-refresh-btn {
    display: none !important;
  }
}
