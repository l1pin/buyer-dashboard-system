@tailwind base;
@tailwind components;
@tailwind utilities;

/* Подключение шрифта Inter */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

/* Базовые стили */
@layer base {
  html {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-gray-50 text-gray-900;
    line-height: 1.5;
  }

  * {
    box-sizing: border-box;
  }

  /* Скроллбары */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Firefox scrollbars */
  * {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }
}

/* Компоненты */
@layer components {
  /* Кнопки */
  .btn-primary {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  .btn-secondary {
    @apply inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  .btn-danger {
    @apply inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200;
  }

  /* Формы */
  .form-input {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
  }

  .form-select {
    @apply block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
  }

  .form-checkbox {
    @apply h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200;
  }

  /* Карточки */
  .card {
    @apply bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200;
  }

  .card-header {
    @apply px-4 py-5 sm:px-6 border-b border-gray-200;
  }

  .card-body {
    @apply px-4 py-5 sm:p-6;
  }

  .card-footer {
    @apply px-4 py-4 sm:px-6 border-t border-gray-200;
  }

  /* Статусы */
  .status-success {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800;
  }

  .status-warning {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800;
  }

  .status-error {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800;
  }

  .status-info {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800;
  }

  /* Алерты */
  .alert {
    @apply px-4 py-3 rounded-md text-sm border;
  }

  .alert-success {
    @apply bg-green-50 border-green-200 text-green-700;
  }

  .alert-warning {
    @apply bg-yellow-50 border-yellow-200 text-yellow-700;
  }

  .alert-error {
    @apply bg-red-50 border-red-200 text-red-700;
  }

  .alert-info {
    @apply bg-blue-50 border-blue-200 text-blue-700;
  }
}

/* Утилиты */
@layer utilities {
  /* Анимации появления */
  .animate-in {
    animation: slideUp 0.3s ease-out;
  }

  .animate-out {
    animation: slideDown 0.3s ease-out;
  }

  /* Состояния загрузки */
  .loading {
    @apply opacity-50 pointer-events-none;
  }

  /* Скрытие элементов при печати */
  @media print {
    .no-print {
      display: none !important;
    }
  }

  /* Утилиты для работы с таблицами */
  .table-container {
    @apply overflow-x-auto;
  }

  .table-container table {
    @apply min-w-full border-collapse;
  }

  .table-container th,
  .table-container td {
    @apply border border-gray-200 px-3 py-2 text-sm;
  }

  .table-container th {
    @apply bg-gray-50 font-medium text-gray-900;
  }

  .table-container td {
    @apply bg-white text-gray-700;
  }

  /* Редактируемые ячейки */
  .table-container td[contenteditable="true"] {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-blue-50 transition-all duration-200;
    min-height: 20px;
  }

  .table-container td[contenteditable="true"]:hover {
    @apply bg-gray-50;
  }

  /* Размеры sidebar */
  .sidebar-collapsed {
    width: 4rem;
  }

  .sidebar-expanded {
    width: 16rem;
  }

  /* Transition для sidebar */
  .sidebar-transition {
    transition: width 0.3s ease-in-out;
  }

  /* Responsive утилиты */
  .mobile-hidden {
    @apply hidden md:block;
  }

  .mobile-only {
    @apply block md:hidden;
  }

  /* Состояние фокуса для доступности */
  .focus-visible {
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2;
  }

  /* Градиенты */
  .gradient-blue {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .gradient-green {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  }

  /* Тени */
  .shadow-soft {
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
  }

  .shadow-medium {
    box-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.12);
  }

  .shadow-large {
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.16);
  }
}

/* Кастомные стили для Google Sheets таблиц */
.google-sheets-table {
  font-family: Arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

.google-sheets-table th,
.google-sheets-table td {
  border: 1px solid #d0d7de;
  padding: 8px;
  text-align: left;
  vertical-align: top;
  font-size: 14px;
  line-height: 1.4;
}

.google-sheets-table th {
  background-color: #f6f8fa;
  font-weight: 600;
  color: #24292f;
}

.google-sheets-table td {
  background-color: #ffffff;
  color: #24292f;
}

.google-sheets-table tr:nth-child(even) td {
  background-color: #f6f8fa;
}

.google-sheets-table td[contenteditable="true"]:focus {
  background-color: #dbeafe;
  outline: 2px solid #3b82f6;
  outline-offset: -2px;
}

/* Стили для модальных окон */
.modal-overlay {
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}

.modal-content {
  max-height: 90vh;
  overflow-y: auto;
}

/* Стили для уведомлений */
.notification {
  @apply fixed top-4 right-4 z-50 max-w-sm w-full;
}

.notification-enter {
  @apply transform translate-x-full opacity-0;
}

.notification-enter-active {
  @apply transform translate-x-0 opacity-100 transition-all duration-300;
}

.notification-exit {
  @apply transform translate-x-0 opacity-100;
}

.notification-exit-active {
  @apply transform translate-x-full opacity-0 transition-all duration-300;
}

/* Стили для индикатора загрузки */
.loading-spinner {
  @apply animate-spin rounded-full border-2 border-gray-300 border-t-blue-600;
}

/* Стили для пустых состояний */
.empty-state {
  @apply flex flex-col items-center justify-center p-8 text-center;
}

.empty-state-icon {
  @apply w-16 h-16 text-gray-400 mb-4;
}

.empty-state-title {
  @apply text-lg font-medium text-gray-900 mb-2;
}

.empty-state-description {
  @apply text-gray-600 mb-4;
}

/* Стили для drag and drop */
.drag-over {
  @apply border-2 border-dashed border-blue-400 bg-blue-50;
}

.drag-active {
  @apply border-blue-600 bg-blue-100;
}

/* Адаптивные стили */
@media (max-width: 768px) {
  .table-container {
    font-size: 12px;
  }
  
  .table-container th,
  .table-container td {
    padding: 6px;
  }
}

/* Печать */
@media print {
  .no-print {
    display: none !important;
  }
  
  .table-container {
    overflow: visible !important;
  }
  
  .table-container table {
    page-break-inside: auto;
  }
  
  .table-container tr {
    page-break-inside: avoid;
    page-break-after: auto;
  }
}